!function(t){t.fn.photoswipe=function(e){var i=[],n=e,r=function(e,r){var a=document.querySelectorAll(".pswp")[0],o=i[e-1].items,d={index:r,galleryUID:e,getThumbBoundsFn:function(t){var e=o[t].el.children[0],i=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}};t.extend(d,n),new PhotoSwipe(a,PhotoSwipeUI_Default,o,d).init()};!function(e){i=[],e.each(function(e,n){i.push({id:e,items:[]}),t(n).find("a").each(function(n,r){var a=t(r).parent("figure"),o=a.data("size").split("x");if(2!=o.length)throw SyntaxError("Missing data-size attribute.");a.data("gallery-id",e+1),a.data("photo-id",n);var d={src:r.href,msrc:r.children[0].getAttribute("src"),w:parseInt(o[0],10),h:parseInt(o[1],10),title:a.data("sub-html"),el:r};i[e].items.push(d)}),t(n).on("click","a",function(e){e.preventDefault();var i=t(this).parent("figure"),n=i.data("gallery-id"),a=i.data("photo-id");r(n,a)})})}(this);var a=function(){var t=window.location.hash.substring(1),e={};if(t.length<5)return e;for(var i=t.split("&"),n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(e[r[0]]=r[1])}return e.gid&&(e.gid=parseInt(e.gid,10)),e.hasOwnProperty("pid")?(e.pid=parseInt(e.pid,10),e):e}();return a.pid>0&&a.gid>0&&r(a.gid,a.pid),this}}(jQuery);